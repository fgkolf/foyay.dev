---
import BurgerIcon from "./BurgerIcon.astro";
const { headerTitle } = Astro.props;
---

<header>
  <a href="/" class="py-4 pr-4 flex items-center">
    <div
      id="menuButton"
      class="bg-[var(--highlight-color)] size-[6vw] mr-[3vw] group flex items-center justify-center sm:pointer-events-none"
    >
      <BurgerIcon />
    </div>
    <h1 class="text-[5vw] font-semibold transition-all duration-700">
      {headerTitle}
    </h1>
  </a>
  <div class="bg-[var(--base-color)] h-[0.5vw] w-[82vw] ml-[9vw]"></div>
</header>

<script>
  const sidebar = document.querySelector("#sidebar");

  const menuButton = document.querySelector("#menuButton");

  menuButton.addEventListener("click", (e) => {
    e.preventDefault();
    sidebar.classList.toggle("visible");
  });

  document.addEventListener("click", (e) => {
    if (!sidebar.classList.contains("visible")) return;

    if (!sidebar.contains(e.target) && !menuButton.contains(e.target)) {
      e.preventDefault();
      sidebar.classList.remove("visible");
    }
  });
</script>
